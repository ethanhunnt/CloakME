<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CloakMe | Digital Security</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../css/style.css">
</head>
<body>
  <header>
    <div class="logo">üõ°Ô∏è CloakMe</div>
    <nav>
      <a href="#">Features</a>
      <a href="#">Pricing</a>
      <a href="#">Support</a>
      <a href="login/login.html">Log In</a>
      <a href="register/register.html">Register</a>
    </nav>
  </header>

  <div class="container">
    <main>
      <h1>Digital Security for the Elite</h1>
      <p>Protect your privacy and reputation with cutting-edge monitoring and security tools.</p>

      <form id="subscribe-form" method="POST" action="php/subscribe.php">
        <input type="email" name="email" placeholder="Enter your email" required>
        <button type="submit">Sign Up</button>
      </form>
      <div id="sub-msg" style="margin-top:10px; font-size:14px;"></div>

      <img src="images/cloakme.png" alt="CloakMe Banner" class="banner" style="width: 100%; max-width: 300px; height: auto; border-radius: 10px; display: block; margin: 20px auto;" />


      <section>
        <h2>Dark Web & Leak Monitoring</h2>
        <p>Get real-time alerts if your personal information is found on the dark web or in data breaches.</p>
        <form onsubmit="return false;">
          <input type="email" placeholder="example@example.com" />
          <button type="submit">Scan</button>
        </form>
      </section>
    </main>
  </div>

  <script>
    document.getElementById("subscribe-form").addEventListener("submit", async function (e) {
      e.preventDefault();
      const formData = new FormData(this);
      const response = await fetch("php/subscribe.php", {
        method: "POST",
        body: formData
      });
      const result = await response.text();
      const msgBox = document.getElementById("sub-msg");

      if (result === "success") {
        msgBox.innerText = "‚úÖ Subscribed successfully!";
        msgBox.style.color = "lightgreen";
        this.reset();
      } else if (result === "duplicate") {
        msgBox.innerText = "üì© You‚Äôre already subscribed.";
        msgBox.style.color = "orange";
      } else if (result === "invalid") {
        msgBox.innerText = "‚ö†Ô∏è Invalid email address.";
        msgBox.style.color = "orange";
      } else {
        msgBox.innerText = "‚ùå Subscription failed.";
        msgBox.style.color = "red";
      }
    });
  </script>
</body>
</html>
